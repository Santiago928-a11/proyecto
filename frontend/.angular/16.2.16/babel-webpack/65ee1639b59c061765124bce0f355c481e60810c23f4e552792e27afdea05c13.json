{"ast":null,"code":"import { HttpEventType } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/muebles.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function (a1) {\n  return [\"/editar\", a1];\n};\nfunction ListaMueblesComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 7)(11, \"a\", 8);\n    i0.ɵɵtext(12, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ListaMueblesComponent_tr_19_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const m_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.borrarMueble(m_r2.id));\n    });\n    i0.ɵɵtext(14, \"Borrar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const m_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(m_r2.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(m_r2.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(m_r2.descripcion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(9, 5, m_r2.precio, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, m_r2.id));\n  }\n}\nfunction ListaMueblesComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Progreso: \", ctx_r1.progreso, \"%\");\n  }\n}\n// Componente encargado de mostrar la lista de muebles, permitir su eliminación\n// y gestionar la carga masiva de datos desde un archivo XLS.\nexport class ListaMueblesComponent {\n  // Constructor: inyecta el servicio de muebles para interactuar con el backend.\n  constructor(mueblesService) {\n    this.mueblesService = mueblesService;\n    // Arreglo que almacena la lista de muebles obtenida del backend.\n    this.muebles = [];\n    // Mensaje informativo que muestra el resultado de las operaciones (éxito o error).\n    this.mensaje = '';\n    // Porcentaje de progreso durante la carga de archivos XLS.\n    this.progreso = 0;\n  }\n  // ngOnInit(): método del ciclo de vida de Angular, se ejecuta al iniciar el componente.\n  // Llama a la función que carga los muebles desde el backend.\n  ngOnInit() {\n    this.cargarMuebles();\n  }\n  // cargarMuebles(): obtiene la lista de muebles desde el backend y la almacena en el arreglo \"muebles\".\n  cargarMuebles() {\n    this.mueblesService.getMuebles().subscribe({\n      next: data => this.muebles = data,\n      error: err => console.error(err)\n    });\n  }\n  // borrarMueble(): elimina un mueble según su ID luego de una confirmación del usuario.\n  // Si la operación es exitosa, recarga la lista de muebles.\n  borrarMueble(id) {\n    if (!confirm(`¿Seguro que quieres borrar ${id}?`)) return;\n    this.mueblesService.deleteMueble(id).subscribe({\n      next: () => {\n        this.mensaje = 'Producto eliminado correctamente';\n        this.cargarMuebles();\n      },\n      error: () => this.mensaje = 'Error, no se pudo borrar el mueble'\n    });\n  }\n  // onFileSelect(): maneja la selección de un archivo XLS y envía el archivo al backend.\n  // Actualiza el progreso de carga y muestra mensajes de estado.\n  onFileSelect(event) {\n    const file = event.target.files[0];\n    if (!file) return;\n    this.progreso = 0;\n    this.mensaje = '';\n    this.mueblesService.cargaMasiva(file).subscribe({\n      next: event => {\n        if (event.type === HttpEventType.UploadProgress && event.total) {\n          this.progreso = Math.round(event.loaded / event.total * 100);\n        } else if (event.type === HttpEventType.Response) {\n          this.mensaje = 'Carga completa';\n          this.cargarMuebles();\n        }\n      },\n      error: () => this.mensaje = 'Error, no se pudo subir el archivo'\n    });\n  }\n  static {\n    this.ɵfac = function ListaMueblesComponent_Factory(t) {\n      return new (t || ListaMueblesComponent)(i0.ɵɵdirectiveInject(i1.MueblesService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ListaMueblesComponent,\n      selectors: [[\"app-lista-muebles\"]],\n      decls: 27,\n      vars: 3,\n      consts: [[1, \"card\"], [\"routerLink\", \"/crear\", 1, \"btn-agregar\"], [1, \"tabla-muebles\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"file\", 1, \"file-input\", 3, \"change\"], [\"class\", \"progreso\", 4, \"ngIf\"], [1, \"mensaje\"], [1, \"acciones\"], [1, \"btn-editar\", 3, \"routerLink\"], [1, \"btn-borrar\", 3, \"click\"], [1, \"progreso\"]],\n      template: function ListaMueblesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"Lista de Muebles\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"a\", 1);\n          i0.ɵɵtext(4, \"Agregar Mueble\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"table\", 2)(6, \"thead\")(7, \"tr\")(8, \"th\");\n          i0.ɵɵtext(9, \"ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"th\");\n          i0.ɵɵtext(11, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"th\");\n          i0.ɵɵtext(13, \"Descripci\\u00F3n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"th\");\n          i0.ɵɵtext(15, \"Precio\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"th\");\n          i0.ɵɵtext(17, \"Acciones\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(18, \"tbody\");\n          i0.ɵɵtemplate(19, ListaMueblesComponent_tr_19_Template, 15, 10, \"tr\", 3);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(20, \"div\", 0)(21, \"h1\");\n          i0.ɵɵtext(22, \"Carga XLS\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"input\", 4);\n          i0.ɵɵlistener(\"change\", function ListaMueblesComponent_Template_input_change_23_listener($event) {\n            return ctx.onFileSelect($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(24, ListaMueblesComponent_div_24_Template, 2, 1, \"div\", 5);\n          i0.ɵɵelementStart(25, \"p\", 6);\n          i0.ɵɵtext(26);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(19);\n          i0.ɵɵproperty(\"ngForOf\", ctx.muebles);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.progreso > 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.mensaje);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i2.DecimalPipe],\n      styles: [\"body[_ngcontent-%COMP%] {\\n  font-family: 'Arial', sans-serif;\\n  background-color: #f4f4f4;\\n  color: #333;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  background-color: #fff;\\n  padding: 25px;\\n  margin-bottom: 30px;\\n  border-radius: 10px;\\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\\n}\\n\\n.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  margin-top: 0;\\n  margin-bottom: 20px;\\n  color: #2c3e50;\\n  font-size: 24px;\\n}\\n\\n.btn-agregar[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  background-color: #3498db;\\n  color: white;\\n  text-decoration: none;\\n  padding: 10px 15px;\\n  border-radius: 5px;\\n  margin-bottom: 20px;\\n  transition: background-color 0.3s;\\n}\\n\\n.btn-agregar[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  background-color: #3498db;\\n  color: white;\\n  text-decoration: none;\\n  padding: 10px 15px;\\n  border-radius: 5px;\\n  margin-bottom: 20px;\\n  transition: background-color 0.3s;\\n}\\n\\n.btn-agregar[_ngcontent-%COMP%]:hover {\\n  background-color: #2ecc71;\\n}\\n\\n.tabla-muebles[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n  margin-top: 20px;\\n}\\n\\n.tabla-muebles[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tabla-muebles[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 12px;\\n  text-align: left;\\n  border-bottom: 1px solid #e0e0e0;\\n}\\n\\n.tabla-muebles[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background-color: #f2f2f2;\\n  font-weight: bold;\\n  color: #2c3e50;\\n}\\n\\n.tabla-muebles[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\n  background-color: #f5f5f5;\\n}\\n\\n.acciones[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 10px;\\n}\\n\\n.btn-editar[_ngcontent-%COMP%], .btn-borrar[_ngcontent-%COMP%] {\\n  padding: 8px 12px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background-color 0.2s, transform 0.1s;\\n  font-size: 14px;\\n  border: none;\\n  color: white;\\n  text-decoration: none;\\n}\\n\\n.btn-editar[_ngcontent-%COMP%] {\\n  background-color: #3498db;\\n}\\n\\n.btn-editar[_ngcontent-%COMP%]:hover {\\n  background-color: #2980b9;\\n}\\n\\n.btn-borrar[_ngcontent-%COMP%] {\\n  background-color: #e74c3c;\\n}\\n\\n.btn-borrar[_ngcontent-%COMP%]:hover {\\n  background-color: #c0392b;\\n}\\n\\n.btn-editar[_ngcontent-%COMP%]:active, .btn-borrar[_ngcontent-%COMP%]:active {\\n  transform: scale(0.97);\\n}\\n\\n.file-input[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n}\\n\\n.progreso[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n  font-weight: bold;\\n  color: #27ae60;\\n}\\n\\n.mensaje[_ngcontent-%COMP%] {\\n  color: #3498db;\\n  font-style: italic;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9saXN0YS1tdWVibGVzL2xpc3RhLW11ZWJsZXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdDQUFnQztFQUNoQyx5QkFBeUI7RUFDekIsV0FBVztBQUNiOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsbUJBQW1CO0VBQ25CLHFDQUFxQztBQUN2Qzs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsY0FBYztFQUNkLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixxQkFBcUI7RUFDckIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsaUNBQWlDO0FBQ25DOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1oscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGlDQUFpQztBQUNuQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGdCQUFnQjtFQUNoQixnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsaUJBQWlCO0VBQ2pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsU0FBUztBQUNYOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsaURBQWlEO0VBQ2pELGVBQWU7RUFDZixZQUFZO0VBQ1osWUFBWTtFQUNaLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixpQkFBaUI7RUFDakIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxrQkFBa0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcbiAgZm9udC1mYW1pbHk6ICdBcmlhbCcsIHNhbnMtc2VyaWY7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNGY0ZjQ7XG4gIGNvbG9yOiAjMzMzO1xufVxuXG4uY2FyZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gIHBhZGRpbmc6IDI1cHg7XG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsMCwwLDAuMSk7XG59XG5cbi5jYXJkIGgxIHtcbiAgbWFyZ2luLXRvcDogMDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgY29sb3I6ICMyYzNlNTA7XG4gIGZvbnQtc2l6ZTogMjRweDtcbn1cblxuLmJ0bi1hZ3JlZ2FyIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQ5OGRiO1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgcGFkZGluZzogMTBweCAxNXB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcztcbn1cblxuLmJ0bi1hZ3JlZ2FyIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQ5OGRiO1xuICBjb2xvcjogd2hpdGU7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgcGFkZGluZzogMTBweCAxNXB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcztcbn1cblxuLmJ0bi1hZ3JlZ2FyOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJlY2M3MTtcbn1cblxuLnRhYmxhLW11ZWJsZXMge1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgbWFyZ2luLXRvcDogMjBweDtcbn1cblxuLnRhYmxhLW11ZWJsZXMgdGgsIC50YWJsYS1tdWVibGVzIHRkIHtcbiAgcGFkZGluZzogMTJweDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlMGUwZTA7XG59XG5cbi50YWJsYS1tdWVibGVzIHRoIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMmMzZTUwO1xufVxuXG4udGFibGEtbXVlYmxlcyB0cjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XG59XG5cbi5hY2Npb25lcyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMTBweDtcbn1cblxuLmJ0bi1lZGl0YXIsIC5idG4tYm9ycmFyIHtcbiAgcGFkZGluZzogOHB4IDEycHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMsIHRyYW5zZm9ybSAwLjFzO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgY29sb3I6IHdoaXRlO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbi5idG4tZWRpdGFyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM0OThkYjtcbn1cblxuLmJ0bi1lZGl0YXI6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjk4MGI5O1xufVxuXG4uYnRuLWJvcnJhciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlNzRjM2M7XG59XG5cbi5idG4tYm9ycmFyOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2MwMzkyYjtcbn1cblxuLmJ0bi1lZGl0YXI6YWN0aXZlLCAuYnRuLWJvcnJhcjphY3RpdmUge1xuICB0cmFuc2Zvcm06IHNjYWxlKDAuOTcpO1xufVxuXG4uZmlsZS1pbnB1dCB7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG59XG5cbi5wcm9ncmVzbyB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogIzI3YWU2MDtcbn1cblxuLm1lbnNhamUge1xuICBjb2xvcjogIzM0OThkYjtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["HttpEventType","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ListaMueblesComponent_tr_19_Template_button_click_13_listener","restoredCtx","ɵɵrestoreView","_r4","m_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","borrarMueble","id","ɵɵadvance","ɵɵtextInterpolate","nombre","descripcion","ɵɵtextInterpolate1","ɵɵpipeBind2","precio","ɵɵproperty","ɵɵpureFunction1","_c0","ctx_r1","progreso","ListaMueblesComponent","constructor","mueblesService","muebles","mensaje","ngOnInit","cargarMuebles","getMuebles","subscribe","next","data","error","err","console","confirm","deleteMueble","onFileSelect","event","file","target","files","cargaMasiva","type","UploadProgress","total","Math","round","loaded","Response","ɵɵdirectiveInject","i1","MueblesService","selectors","decls","vars","consts","template","ListaMueblesComponent_Template","rf","ctx","ɵɵtemplate","ListaMueblesComponent_tr_19_Template","ListaMueblesComponent_Template_input_change_23_listener","$event","ListaMueblesComponent_div_24_Template"],"sources":["/home/ivan/Proyectos/proyecto/frontend/muebles-app/src/app/components/lista-muebles/lista-muebles.component.ts","/home/ivan/Proyectos/proyecto/frontend/muebles-app/src/app/components/lista-muebles/lista-muebles.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MueblesService, Mueble } from '../../services/muebles.service';\nimport { HttpEventType } from '@angular/common/http';\n\n@Component({\n  selector: 'app-lista-muebles', \n  templateUrl: './lista-muebles.component.html',\n  styleUrls: ['./lista-muebles.component.css']\n})\n\n// Componente encargado de mostrar la lista de muebles, permitir su eliminación\n// y gestionar la carga masiva de datos desde un archivo XLS.\nexport class ListaMueblesComponent implements OnInit {\n  // Arreglo que almacena la lista de muebles obtenida del backend.\n  muebles: Mueble[] = [];\n\n  // Mensaje informativo que muestra el resultado de las operaciones (éxito o error).\n  mensaje = '';\n\n  // Porcentaje de progreso durante la carga de archivos XLS.\n  progreso = 0;\n\n  // Constructor: inyecta el servicio de muebles para interactuar con el backend.\n  constructor(private mueblesService: MueblesService) {}\n\n  // ngOnInit(): método del ciclo de vida de Angular, se ejecuta al iniciar el componente.\n  // Llama a la función que carga los muebles desde el backend.\n  ngOnInit() {\n    this.cargarMuebles();\n  }\n\n  // cargarMuebles(): obtiene la lista de muebles desde el backend y la almacena en el arreglo \"muebles\".\n  cargarMuebles() {\n    this.mueblesService.getMuebles().subscribe({\n      next: data => (this.muebles = data),\n      error: err => console.error(err)\n    });\n  }\n\n  // borrarMueble(): elimina un mueble según su ID luego de una confirmación del usuario.\n  // Si la operación es exitosa, recarga la lista de muebles.\n  borrarMueble(id: number) {\n    if (!confirm(`¿Seguro que quieres borrar ${id}?`)) return;\n    this.mueblesService.deleteMueble(id).subscribe({\n      next: () => {\n        this.mensaje = 'Producto eliminado correctamente';\n        this.cargarMuebles();\n      },\n      error: () => (this.mensaje = 'Error, no se pudo borrar el mueble')\n    });\n  }\n\n  // onFileSelect(): maneja la selección de un archivo XLS y envía el archivo al backend.\n  // Actualiza el progreso de carga y muestra mensajes de estado.\n  onFileSelect(event: any) {\n    const file = event.target.files[0];\n    if (!file) return;\n    this.progreso = 0;\n    this.mensaje = '';\n\n    this.mueblesService.cargaMasiva(file).subscribe({\n      next: (event) => {\n        if (event.type === HttpEventType.UploadProgress && event.total) {\n          this.progreso = Math.round((event.loaded / event.total) * 100);\n        } else if (event.type === HttpEventType.Response) {\n          this.mensaje = 'Carga completa';\n          this.cargarMuebles();\n        }\n      },\n      error: () => (this.mensaje = 'Error, no se pudo subir el archivo')\n    });\n  }\n}\n","<div class=\"card\">\n  <h1>Lista de Muebles</h1>\n  <a routerLink=\"/crear\" class=\"btn-agregar\">Agregar Mueble</a>\n\n  <table class=\"tabla-muebles\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Nombre</th>\n        <th>Descripción</th>\n        <th>Precio</th>\n        <th>Acciones</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let m of muebles\">\n        <td>{{ m.id }}</td>\n        <td>{{ m.nombre }}</td>\n        <td>{{ m.descripcion }}</td>\n        <td>${{ m.precio | number:'1.2-2' }}</td>\n        <td class=\"acciones\">\n          <a [routerLink]=\"['/editar', m.id]\" class=\"btn-editar\">Editar</a>\n          <button (click)=\"borrarMueble(m.id!)\" class=\"btn-borrar\">Borrar</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n\n<div class=\"card\">\n  <h1>Carga XLS</h1>\n  <input type=\"file\" (change)=\"onFileSelect($event)\" class=\"file-input\" />\n  <div *ngIf=\"progreso > 0\" class=\"progreso\">Progreso: {{ progreso }}%</div>\n  <p class=\"mensaje\">{{ mensaje }}</p>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}